[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.15.4","content-config-digest","36e0c57064b3407c","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://automagica11y.dev/docs\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"where\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null],\"rehypePlugins\":[null,[null,{\"experimentalHeadingIdCompat\":false}],null,[null,{\"themes\":[\"vitesse-dark\",\"vitesse-light\"],\"defaultLocale\":\"en\",\"cascadeLayer\":\"starlight.components\",\"styleOverrides\":{\"borderRadius\":\"0.5rem\",\"borderWidth\":\"1px\",\"codePaddingBlock\":\"0.75rem\",\"codePaddingInline\":\"1rem\",\"codeFontFamily\":\"var(--__sl-font-mono)\",\"codeFontSize\":\"var(--sl-text-code)\",\"codeLineHeight\":\"var(--sl-line-height)\",\"uiFontFamily\":\"var(--__sl-font)\",\"textMarkers\":{\"lineDiffIndicatorMarginLeft\":\"0.25rem\",\"defaultChroma\":\"45\",\"backgroundOpacity\":\"40%\",\"markBackground\":\"var(--sl-rapide-ec-marker-bg-color)\",\"markBorderColor\":\"var(--sl-rapide-ec-marker-border-color)\"},\"borderColor\":\"var(--sl-rapide-ui-border-color)\",\"frames\":{\"editorActiveTabIndicatorTopColor\":\"unset\",\"editorActiveTabIndicatorBottomColor\":\"var(--sl-color-gray-3)\",\"editorTabBarBorderBottomColor\":\"var(--sl-rapide-ui-border-color)\",\"frameBoxShadowCssValue\":\"unset\"}},\"plugins\":[{\"name\":\"Starlight Plugin\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}]}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false},\"legacy\":{\"collections\":false},\"prefetch\":{\"prefetchAll\":true},\"i18n\":{\"defaultLocale\":\"en\",\"locales\":[\"en\"],\"routing\":{\"prefixDefaultLocale\":false,\"redirectToDefaultLocale\":false,\"fallbackType\":\"redirect\"}}}","docs",["Map",11,12,26,27,38,39,50,51,83,84,95,96,107,108,119,120,131,132,143,144,155,156,168,169,180,181,192,193,204,205,216,217,228,229,240,241,252,253,263,264,275,276,287,288,299,300,311,312,323,324,335,336],"examples/context-dialog",{"id":11,"data":13,"body":22,"filePath":23,"digest":24,"legacyId":25,"deferredRender":16},{"title":14,"description":15,"editUrl":16,"head":17,"template":18,"sidebar":19,"pagefind":16,"draft":20},"Context â†’ Dialog","Dialog wiring supplied by the context system.",true,[],"doc",{"hidden":20,"attrs":21},false,{},"import Playground from '../../../components/Playground.astro';\n\n# Context â†’ Dialog\n\n\u003CPlayground id=\"example-context-dialog\" heading=\"Dialog with context\" description=\"Context drives focus traps, inert backgrounds, and Escape handling.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-context=\"dialog\"\n      data-automagica11y-target=\"#example-context-dialog-surface\"\n      class=\"docs-example-dialog__trigger\"\n    >\n      Launch dialog\n    \u003C/button>\n    \u003Cdiv id=\"example-context-dialog-surface\" role=\"dialog\" aria-labelledby=\"example-context-dialog-title\" hidden>\n      \u003Cdiv role=\"document\" class=\"docs-example-dialog__surface\">\n        \u003Ch2 id=\"example-context-dialog-title\">Context dialog\u003C/h2>\n        \u003Cp>Focus is trapped inside, Escape closes it, and the background is inert.\u003C/p>\n        \u003Cbutton data-automagica11y-dialog-close class=\"docs-example-dialog__close\">Close\u003C/button>\n      \u003C/div>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#dialog\">Open dialog\u003C/button>\n\u003Cdiv id=\"dialog\" role=\"dialog\" hidden>\n  \u003Cbutton data-automagica11y-dialog-close>Close\u003C/button>\n\u003C/div>`}\n  \u003C/div>\n\u003C/Playground>","src/content/docs/examples/context-dialog.mdx","cab90e19d3b96159","examples/context-dialog.mdx","examples/focus-links",{"id":26,"data":28,"body":34,"filePath":35,"digest":36,"legacyId":37,"deferredRender":16},{"title":29,"description":30,"editUrl":16,"head":31,"template":18,"sidebar":32,"pagefind":16,"draft":20},"Per-element focus links","Reorder immediate Tab neighbors with data-automagica11y-focus-next / -focus-prev.",[],{"hidden":20,"attrs":33},{},"import Playground from '../../../components/Playground.astro';\n\n# Per-element focus links\n\nLink individual controls together without maintaining a long focus map. The demo below wires three playback buttons so \u003Ckbd>Tab\u003C/kbd> and \u003Ckbd>Shift\u003C/kbd>+\u003Ckbd>Tab\u003C/kbd> cycle through the authored order regardless of DOM placement.\n\n\u003CPlayground id=\"example-focus-links\" heading=\"Per-element focus links\" description=\"Custom neighbors with next/prev selectors.\">\n  \u003Cdiv slot=\"demo\" class=\"docs-focus-links\">\n    \u003Csection class=\"docs-focus-links__shell\" data-automagica11y-focus-scope=\"#focus-links-deck\">\n      \u003Cbutton id=\"focus-links-shuffle\" data-automagica11y-focus-next=\"#focus-links-repeat\">Shuffle\u003C/button>\n      \u003Cbutton id=\"focus-links-play\"\n              data-automagica11y-focus-next=\"#focus-links-queue\"\n              data-automagica11y-focus-prev=\"#focus-links-shuffle\">Play\u003C/button>\n      \u003Cdiv id=\"focus-links-deck\">\n        \u003Cbutton id=\"focus-links-repeat\" data-automagica11y-focus-prev=\"#focus-links-play\">Repeat\u003C/button>\n        \u003Cbutton id=\"focus-links-queue\">Queue\u003C/button>\n      \u003C/div>\n    \u003C/section>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Csection data-automagica11y-focus-scope=\"#focus-links-deck\">`}\n{`  \u003Cbutton id=\"shuffle\" data-automagica11y-focus-next=\"#repeat\">Shuffle\u003C/button>`}\n{`  \u003Cbutton id=\"play\"`}\n{`          data-automagica11y-focus-next=\"#queue\"`}\n{`          data-automagica11y-focus-prev=\"#shuffle\">Play\u003C/button>`}\n{`  \u003Cdiv id=\"focus-links-deck\">`}\n{`    \u003Cbutton id=\"repeat\" data-automagica11y-focus-prev=\"#play\">Repeat\u003C/button>`}\n{`    \u003Cbutton id=\"queue\">Queue\u003C/button>`}\n{`  \u003C/div>`}\n{`\u003C/section>`}\n  \u003C/div>\n\u003C/Playground>\n\nPress \u003Ckbd>Tab\u003C/kbd> on â€œShuffleâ€ to advance through Play â†’ Repeat â†’ Queue, then \u003Ckbd>Shift\u003C/kbd>+\u003Ckbd>Tab\u003C/kbd> to move back up the chain. Hidden or disabled targets are skipped automatically, so the authored order stays accessible.","src/content/docs/examples/focus-links.mdx","cf63b076ed7b6295","examples/focus-links.mdx","examples/focus-map",{"id":38,"data":40,"body":46,"filePath":47,"digest":48,"legacyId":49,"deferredRender":16},{"title":41,"description":42,"editUrl":16,"head":43,"template":18,"sidebar":44,"pagefind":16,"draft":20},"Focus map ordering","Use data-automagica11y-focus-map to create an ordered Tab flow that exits naturally.",[],{"hidden":20,"attrs":45},{},"import Playground from '../../../components/Playground.astro';\n\n# Focus map ordering\n\nThis example wires a deterministic tab order across several controls while leaving the rest of the page reachable. Press \u003Ckbd>Tab\u003C/kbd> on the anchor to move into the mapped buttons and then \u003Ckbd>Tab\u003C/kbd> from the final button to continue beyond the patternâ€”there is no enforced loop.\n\n\u003CPlayground id=\"example-focus-map\" heading=\"Focus map demo\" description=\"Custom tab order with a natural exit.\">\n  \u003Cdiv slot=\"demo\" class=\"docs-focus-map-example\">\n    \u003Cdiv id=\"focus-map-anchor\" class=\"docs-focus-map-anchor\" tabindex=\"0\" aria-label=\"Focus map entry anchor\">\n      Focus anchor\n    \u003C/div>\n    \u003Cdiv\n      class=\"docs-focus-map-track\"\n      data-automagica11y-focus-map=\".primary; .secondary; .tertiary\"\n      data-automagica11y-focus-map-scope=\"self\"\n      data-automagica11y-focus-map-anchor=\"#focus-map-anchor\">\n      \u003Cbutton class=\"primary\">Primary action\u003C/button>\n      \u003Cbutton class=\"secondary\">Secondary action\u003C/button>\n      \u003Cbutton class=\"tertiary\">Tertiary action\u003C/button>\n    \u003C/div>\n    \u003Ca href=\"#focus-map-more\" class=\"fallback\">Continue beyond the map\u003C/a>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cdiv id=\"focus-map-anchor\" tabindex=\"0\">Focus anchor\u003C/div>`}\n{`\u003Cdiv data-automagica11y-focus-map=\".primary; .secondary; .tertiary\"`}\n{`     data-automagica11y-focus-map-scope=\"self\"`}\n{`     data-automagica11y-focus-map-anchor=\"#focus-map-anchor\">`}\n{`  \u003Cbutton class=\"primary\">Primary action\u003C/button>`}\n{`  \u003Cbutton class=\"secondary\">Secondary action\u003C/button>`}\n{`  \u003Cbutton class=\"tertiary\">Tertiary action\u003C/button>`}\n{`\u003C/div>`}\n  \u003C/div>\n\u003C/Playground>\n\nBy default, \u003Ckbd>Tab\u003C/kbd> from the anchor jumps into the sequenced buttons, \u003Ckbd>Shift\u003C/kbd>+\u003Ckbd>Tab\u003C/kbd> from the first button returns to the anchor, and \u003Ckbd>Tab\u003C/kbd> from the final button lands on the â€œContinue beyond the mapâ€ link. The focus map never traps or loops so the next focusable element stays reachable.\n\n\u003Cdiv id=\"focus-map-more\" aria-hidden=\"true\" hidden>\u003C/div>","src/content/docs/examples/focus-map.mdx","dcc6f5ae2e656270","examples/focus-map.mdx","index",{"id":50,"data":52,"body":77,"filePath":78,"assetImports":79,"digest":81,"legacyId":82,"deferredRender":16},{"title":53,"description":54,"editUrl":16,"head":55,"template":56,"hero":57,"sidebar":75,"pagefind":16,"draft":20},"Meet automagica11y","Declarative accessibility utilities that wire the hard parts for you.",[],"splash",{"title":58,"tagline":59,"image":60,"actions":63},"Accessibility that writes itself.","From declaration to interaction, \u003Cem>automagically\u003C/em>. One attribute handles ARIA, focus flow, and visual state management so you can ship accessible code without the boilerplate.",{"alt":61,"file":62},"Logo bro-bro","__ASTRO_IMAGE_../../assets/hero_wordmark.svg",[64,71],{"text":65,"link":66,"variant":67,"icon":68},"Quickstart","/getting-started/quickstart/","primary",{"type":69,"name":70},"icon","right-arrow",{"text":72,"link":73,"variant":74},"Explore patterns","/patterns/toggle/","secondary",{"hidden":20,"attrs":76},{},"import DemoCallout from '../../components/DemoCallout.astro';\nimport Playground from '../../components/Playground.astro';\nimport LandingFeatureGrid from '../../components/LandingFeatureGrid.astro';\nimport { landingFeatures, landingQuickLinks } from '../../data/landing';\n\n\u003CLandingFeatureGrid\n  heading=\"Why automagica11y?\"\n  description=\"Build inclusive interactions with declarative HTML. automagica11y pairs empathetic defaults with smart automation so accessibility justâ€¦ happens.\n\"\n  features={landingFeatures}\n/>\n\n## Try it out\n\n\u003CPlayground id=\"landing-toggle\" heading=\"The 5-second toggle\" description=\"One attribute, full accessibility.\" >\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-toggle=\"#landing-toggle-panel\"\n      class=\"sl-link-button not-content primary\"\n    >Toggle me, friend.\u003C/button>\n    \u003Cdiv id=\"landing-toggle-panel\" class=\"docs-cta-panel\">\n      Automagica11y synchronizes \u003Ccode>aria-expanded\u003C/code>, handles keyboard input, and keeps the DOM tidy.\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\n\u003Cbutton data-automagica11y-toggle=\"#landing-toggle-panel\">\n  Toggle me, friend.\n\u003C/button>\n\u003Cdiv id=\"landing-toggle-panel\">\n  Automagica11y synchronizes \u003Ccode>aria-expanded\u003C/code>, handles keyboard input, and keeps the DOM tidy.\n\u003C/div>\n`}\n  \u003C/div>\n\u003C/Playground>\n\n\nWe didn't just toggle [hidden] there either. Automagica11y took that bare bones HTML and also gave it ids, aria-controls, aria-expanded, aria-labelled-by, \u003Cem>and\u003C/em> aria-hidden. All with a single data-attribute.\n\n\u003Ca href=\"/getting-started/installation/\">Get this wizardry for yourself\u003C/a>","src/content/docs/index.mdx",[80],"../../assets/hero_wordmark.svg","733bef4170ff2284","index.mdx","examples/coverage-plan",{"id":83,"data":85,"body":91,"filePath":92,"digest":93,"legacyId":94,"deferredRender":16},{"title":86,"description":87,"editUrl":16,"head":88,"template":18,"sidebar":89,"pagefind":16,"draft":20},"Examples roadmap","Planned interactive demos covering every pattern, context, and plugin.",[],{"hidden":20,"attrs":90},{},"# Examples roadmap\n\nThis roadmap inventories the examples we already ship and the scenarios we still need to capture. Use it to coordinate contributions and avoid duplicate work.\n\n## Core primitives\n\n- [x] **Truthiness alias inspector** â€“ Demonstrates how synonymous state keywords map to the same class hooks (existing page).\n- [ ] **Attributes + Classes sandbox** â€“ Inspect how `ensureId`, `appendToken`, and truthiness-driven class hooks behave on arbitrary markup.\n- [ ] **Context capability lab** â€“ Toggle each capability (focus trap, inert siblings, hover intent, anchor follow) to demonstrate the helpers exported from `@core/context/helpers`.\n- [ ] **Context mode explorer** â€“ Compare `all`, `semantics-only`, and `behaviors-only` toggles across dialog and tooltip contexts.\n- [ ] **Placement visualizer** â€“ Drag a trigger around the viewport and watch how `resolveAnchoredPlacement` chooses the best side.\n\n## Patterns\n\n### Toggle\n\n- [x] Basic show/hide playground (existing page).\n- [x] Truthiness alias synonyms wired to the same state (existing page).\n- [x] Grouped accordions using `data-automagica11y-group` (new example).\n- [ ] Multi-target toggle controlling companion overlays and ARIA mirrors.\n- [ ] Toggle + menu context once behaviors ship for menus.\n\n### Dialog\n\n- [x] Context vs alias parity (existing page).\n- [ ] Backdrop dismissal toggled with `data-automagica11y-dialog-dismissable`.\n- [ ] Dialog integrated with `initFocusInitial` and the animate lifecycle.\n- [ ] Multi-trigger dialog demonstrating inert sibling coordination.\n\n### Popover\n\n- [x] Dismiss-on-outside-click demo (existing page).\n- [ ] Command palette with focus map ordering and search field.\n- [ ] Teaching bubble that responds to `automagica11y:popover:placement` updates.\n- [ ] Sticky popover example showing `data-automagica11y-popover-outside-dismiss=\"false\"` and scroll thresholds.\n\n### Tooltip\n\n- [x] Context vs alias parity (existing page).\n- [ ] Hover intent playground for open/close delay tuning.\n- [ ] Mobile long-press tooltip with explicit dismiss controls.\n- [ ] Tooltip dismiss button recipe using `data-automagica11y-tooltip-dismiss`.\n\n### Future contexts\n\n- [ ] Menu semantics gallery showing `role=\"menu\"` markup before interactive behaviors ship.\n- [ ] Disclosure/accordion context parity demo once shared behaviors land.\n- [ ] Listbox, tablist, and tree context previews illustrating the automatic role scaffolding.\n\n## Focus helpers\n\n- [x] Focus map ordering demo (existing page).\n- [x] Per-element focus links chaining `data-automagica11y-focus-next`/`-prev` (existing page).\n- [ ] Focus trap auto-activation walkthrough with `data-automagica11y-focus-trap` options.\n- [ ] Focus initial + animate lifecycle handshake so focus waits until exit transitions finish.\n- [ ] Live editor for `data-automagica11y-focus-map` selectors.\n- [ ] Dialog integration that shows how focus is restored when closing.\n\n## Extensions\n\n### Announce\n\n- [ ] Screen reader announcement inspector that logs polite/assertive output.\n- [ ] Grouped toggle announcements showing only the newly opened item speaks.\n- [ ] Localization walkthrough for author-supplied announcement strings.\n\n### Animate lifecycle\n\n- [ ] Trigger vs target animation comparison.\n- [ ] Selector-based animation watching an overlay element.\n- [ ] Integration with focus helpers to delay focus restoration until close completes.\n\nTrack overall progress on the [Core modules reference](/reference/core/) and individual pattern pages for context-specific coverage notes.","src/content/docs/examples/coverage-plan.mdx","ca60fbc445995334","examples/coverage-plan.mdx","examples/toggle-accordion",{"id":95,"data":97,"body":103,"filePath":104,"digest":105,"legacyId":106,"deferredRender":16},{"title":98,"description":99,"editUrl":16,"head":100,"template":18,"sidebar":101,"pagefind":16,"draft":20},"Toggle â€” grouped accordion","data-automagica11y-group keeps accordions mutually exclusive.",[],{"hidden":20,"attrs":102},{},"import Playground from '../../../components/Playground.astro';\n\n# Toggle â€” grouped accordion\n\nGroup related disclosures with `data-automagica11y-group` so opening one item closes any other expanded panels. This mirrors classic accordion behavior without additional JavaScript.\n\n\u003CPlayground id=\"example-toggle-accordion\" heading=\"Grouped accordion\" description=\"Only one panel stays open at a time.\">\n  \u003Cdiv slot=\"demo\" class=\"docs-example-accordion\">\n    \u003Cbutton\n      data-automagica11y-toggle=\"#example-toggle-accordion-a\"\n      data-automagica11y-group=\"faq\"\n      data-automagica11y-trigger-class-open=\"docs-example-accordion__trigger--open\"\n      class=\"docs-example-accordion__trigger\"\n    >\n      Shipping\n    \u003C/button>\n    \u003Csection id=\"example-toggle-accordion-a\" hidden class=\"docs-example-accordion__panel\">\n      \u003Cp>Standard orders ship within 3â€“5 business days. Express options are available at checkout.\u003C/p>\n    \u003C/section>\n\n    \u003Cbutton\n      data-automagica11y-toggle=\"#example-toggle-accordion-b\"\n      data-automagica11y-group=\"faq\"\n      data-automagica11y-trigger-class-open=\"docs-example-accordion__trigger--open\"\n      class=\"docs-example-accordion__trigger\"\n    >\n      Returns\n    \u003C/button>\n    \u003Csection id=\"example-toggle-accordion-b\" hidden class=\"docs-example-accordion__panel\">\n      \u003Cp>Start a return within 30 days for a prepaid label. Exchanges are processed immediately.\u003C/p>\n    \u003C/section>\n\n    \u003Cbutton\n      data-automagica11y-toggle=\"#example-toggle-accordion-c\"\n      data-automagica11y-group=\"faq\"\n      data-automagica11y-trigger-class-open=\"docs-example-accordion__trigger--open\"\n      class=\"docs-example-accordion__trigger\"\n    >\n      Support hours\n    \u003C/button>\n    \u003Csection id=\"example-toggle-accordion-c\" hidden class=\"docs-example-accordion__panel\">\n      \u003Cp>Specialists are online 8â€¯a.m.â€“8â€¯p.m. ET Monday through Friday and 10â€¯a.m.â€“4â€¯p.m. on weekends.\u003C/p>\n    \u003C/section>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton\n  data-automagica11y-toggle=\"#shipping\"\n  data-automagica11y-group=\"faq\"\n>Shipping\u003C/button>\n\u003Csection id=\"shipping\" hidden>...\u003C/section>`}\n  \u003C/div>\n\u003C/Playground>\n\nWhen one trigger opens, any other toggle in the same group automatically closes. This keeps focus on the current section while maintaining accessible disclosure semantics.","src/content/docs/examples/toggle-accordion.mdx","ddbeca0692079307","examples/toggle-accordion.mdx","examples/context-tooltip",{"id":107,"data":109,"body":115,"filePath":116,"digest":117,"legacyId":118,"deferredRender":16},{"title":110,"description":111,"editUrl":16,"head":112,"template":18,"sidebar":113,"pagefind":16,"draft":20},"Context â†’ Tooltip","Tooltip semantics and behaviors through contexts.",[],{"hidden":20,"attrs":114},{},"import Playground from '../../../components/Playground.astro';\n\n# Context â†’ Tooltip\n\n\u003CPlayground id=\"example-context-tooltip\" heading=\"Tooltip with context\" description=\"Hover, focus, or long-press to reveal the hint.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-context=\"tooltip\"\n      data-automagica11y-target=\"#example-context-tooltip-surface\"\n      data-automagica11y-tooltip-open-delay=\"120\"\n      class=\"docs-example-tooltip__trigger\"\n    >\n      Info\n    \u003C/button>\n    \u003Cspan id=\"example-context-tooltip-surface\" role=\"tooltip\" hidden class=\"docs-example-tooltip__surface\">\n      Context manages delays, placement, and aria-describedby.\n    \u003C/span>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"tooltip\" data-automagica11y-target=\"#tip\">Info\u003C/button>\n\u003Cspan id=\"tip\" role=\"tooltip\" hidden>Helpful hint\u003C/span>`}\n  \u003C/div>\n\u003C/Playground>","src/content/docs/examples/context-tooltip.mdx","4786dc57d0230ca1","examples/context-tooltip.mdx","examples/toggle-basic",{"id":119,"data":121,"body":127,"filePath":128,"digest":129,"legacyId":130,"deferredRender":16},{"title":122,"description":123,"editUrl":16,"head":124,"template":18,"sidebar":125,"pagefind":16,"draft":20},"Toggle â€” basic disclosure","Classic show/hide interaction with truthiness-aware classes.",[],{"hidden":20,"attrs":126},{},"import Playground from '../../../components/Playground.astro';\n\n# Toggle â€” basic disclosure\n\n\u003CPlayground id=\"example-toggle-basic\" heading=\"Toggle with content\" description=\"aria-expanded, aria-controls, and class hooks stay in sync.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-toggle=\"#example-toggle-basic-panel\"\n      data-automagica11y-trigger-class-open=\"docs-example-toggle__trigger--open\"\n      class=\"docs-example-toggle__trigger\"\n    >\n      Toggle panel\n    \u003C/button>\n    \u003Csection id=\"example-toggle-basic-panel\" hidden class=\"docs-example-toggle__panel\">\n      \u003Cp>The toggle pattern wires disclosure semantics without extra code.\u003C/p>\n    \u003C/section>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-toggle=\"#panel\">Toggle panel\u003C/button>\n\u003Csection id=\"panel\" hidden>Panel content\u003C/section>`}\n  \u003C/div>\n\u003C/Playground>","src/content/docs/examples/toggle-basic.mdx","d0f52c6ebca50eb9","examples/toggle-basic.mdx","examples/popover-basic",{"id":131,"data":133,"body":139,"filePath":140,"digest":141,"legacyId":142,"deferredRender":16},{"title":134,"description":135,"editUrl":16,"head":136,"template":18,"sidebar":137,"pagefind":16,"draft":20},"Popover dismissal","Demonstrates outside click, Escape, scroll, and dismiss button handling.",[],{"hidden":20,"attrs":138},{},"import Playground from '../../../components/Playground.astro';\n\n# Popover dismissal\n\nThis example mirrors the default popover behavior: outside clicks, Escape, and scrolling dismiss the surface. Use the buttons and scroll the demo container to see each path in action.\n\n\u003CPlayground id=\"example-popover\" heading=\"Popover dismissal\" description=\"Dismiss via outside click, Escape, scroll, or button.\">\n  \u003Cdiv slot=\"demo\" class=\"docs-popover-example\">\n    \u003Cbutton\n      data-automagica11y-popover=\"#example-popover-surface\"\n      data-automagica11y-popover-scroll-distance=\"16\"\n      class=\"docs-popover-example__trigger\"\n    >\n      Show popover\n    \u003C/button>\n    \u003Cdiv id=\"example-popover-surface\" hidden class=\"docs-popover-example__surface\">\n      \u003Cp>Click the dismiss button, press Escape, click outside, or scroll the container.\u003C/p>\n      \u003Cbutton data-automagica11y-popover-dismiss class=\"docs-popover-example__dismiss\">Dismiss\u003C/button>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-popover=\"#surface\" data-automagica11y-popover-scroll-distance=\"16\">`}\n{`  Show popover`}\n{`\u003C/button>`}\n{`\u003Cdiv id=\"surface\" hidden>`}\n{`  \u003Cbutton data-automagica11y-popover-dismiss>Dismiss\u003C/button>`}\n{`\u003C/div>`}\n  \u003C/div>\n\u003C/Playground>\n\nThe plugin-friendly `automagica11y:popover:toggle` event fires for each open/close. Listen for `automagica11y:popover:dismissed` to differentiate which dismissal path ran.","src/content/docs/examples/popover-basic.mdx","0285ed114ef69ab7","examples/popover-basic.mdx","examples/truthiness-aliases",{"id":143,"data":145,"body":151,"filePath":152,"digest":153,"legacyId":154,"deferredRender":16},{"title":146,"description":147,"editUrl":16,"head":148,"template":18,"sidebar":149,"pagefind":16,"draft":20},"Truthiness aliases","Synonyms resolving to the same open/closed state.",[],{"hidden":20,"attrs":150},{},"import Playground from '../../../components/Playground.astro';\n\n# Truthiness aliases\n\n\u003CPlayground id=\"example-truthiness\" heading=\"Synonyms in action\" description=\"Multiple class hooks map to the same underlying state.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-toggle=\"#example-truthiness-panel\"\n      data-automagica11y-trigger-class-expanded=\"docs-truthiness-example__trigger--expanded\"\n      data-automagica11y-trigger-class-on=\"docs-truthiness-example__trigger--on\"\n      data-automagica11y-target-class-hidden=\"docs-truthiness-example__panel--hidden\"\n      data-automagica11y-target-class-shown=\"docs-truthiness-example__panel--shown\"\n      class=\"docs-truthiness-example__trigger\"\n    >\n      Toggle synonyms\n    \u003C/button>\n    \u003Cdiv id=\"example-truthiness-panel\" hidden class=\"docs-truthiness-example__panel\">\n      \u003Cp>The trigger picks up \u003Ccode>.truthiness--expanded\u003C/code> and \u003Ccode>.truthiness--on\u003C/code> when open.\u003C/p>\n      \u003Cp>The panel swaps \u003Ccode>.truthiness-panel--hidden\u003C/code> and \u003Ccode>.truthiness-panel--shown\u003C/code>.\u003C/p>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton\n  data-automagica11y-toggle=\"#panel\"\n  data-automagica11y-trigger-class-expanded=\"trigger--open\"\n  data-automagica11y-trigger-class-on=\"trigger--on\"\n  data-automagica11y-target-class-hidden=\"panel--hidden\"\n  data-automagica11y-target-class-shown=\"panel--shown\"\n>\n  Toggle synonyms\n\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>","src/content/docs/examples/truthiness-aliases.mdx","a013745ffe188312","examples/truthiness-aliases.mdx","guides/animate",{"id":155,"data":157,"body":164,"filePath":165,"digest":166,"legacyId":167,"deferredRender":16},{"title":158,"description":159,"editUrl":16,"head":160,"template":18,"sidebar":161,"pagefind":16,"draft":20},"Animate toggles","Delay toggle teardown until your CSS transitions and animations finish.",[],{"order":162,"hidden":20,"attrs":163},3,{},"import DemoCallout from '../../../components/DemoCallout.astro';\n\n# Animate toggles\n\n`data-automagica11y-animate` is now part of the core toggle lifecycle. Any trigger can opt in and automagicA11y will postpone the close transition until CSS transitions and animations finish. No registration step is requiredâ€”the listener is installed automatically when patterns hydrate.\n\n```html\n\u003Cbutton\n  data-automagica11y-toggle=\"#sheet\"\n  data-automagica11y-animate=\"target\"\n  data-automagica11y-target-class-open=\"sheet--open\"\n>\n  Toggle sheet\n\u003C/button>\n\u003Csection id=\"sheet\" hidden class=\"sheet\">\n  \u003Cp>Exit animations finish before the panel hides.\u003C/p>\n\u003C/section>\n```\n\nPair the attribute with your closing classes so the surface stays visible while animations run. automagicA11y temporarily removes `hidden`, applies the closing classes, and then hides the target once motion completes.\n\n## Opt-in values\n\n| Value | Watched element | Notes |\n|-------|-----------------|-------|\n| _(empty)_ or `target` | Target surface | Default. The target stays visible while the closing animation plays. |\n| `trigger` | Trigger element | Watch the trigger when it owns the animation (glowing pills, scale-down buttons). |\n| CSS selector | Resolved element | Observe any element in the document (overlays, wrappers). The target still receives open/close classes unless you override them. |\n\n\u003CDemoCallout type=\"info\" title=\"Graceful no-motion fallback\">\n  When `prefers-reduced-motion: reduce` is active or the watched element reports zero-duration animations, animate falls back to immediate close so assistive tech never waits on visuals.\n\u003C/DemoCallout>\n\n## Lifecycle\n\n1. Triggers dispatch `automagica11y:toggle` with `expanded: false`.\n2. Animate intercepts the close, applies closing classes, and sets `--automagica11y-animating=\"closing\"` on the watched element.\n3. The system listens for `transitionend`/`animationend`, `Element.getAnimations()`, and a computed timeout fallback.\n4. After animations finish, it hides the target, dispatches `automagica11y:animation-done`, and replays `automagica11y:toggle` with `__automagica11yAnimateProcessed: true` so core toggle handlers complete cleanup.\n\nListen for `automagica11y:animation-done` when you need to chain additional teardown (DOM recycling, analytics, focus handoffs).\n\n## Compatibility\n\nAnimate registers itself automatically for the current document. If you are hydrating toggles inside an iframe or shadow root, call `initAnimateLifecycle()` with that document to wire up the listener manually.\n\n## Coverage plan\n\n1. Publish a playground demonstrating trigger-, target-, and selector-based animations.\n2. Document how animate coordinates with the focus helpers so focus waits until the panel is hidden.\n3. Provide troubleshooting tips for common configuration mistakes (missing transitions, conflicting preventDefault calls).\n\nProgress rolls up to the [Core modules](/reference/core/) plan.","src/content/docs/guides/animate.mdx","7a66ffe110a0dba2","guides/animate.mdx","getting-started/installation",{"id":168,"data":170,"body":176,"filePath":177,"digest":178,"legacyId":179,"deferredRender":16},{"title":171,"description":172,"editUrl":16,"head":173,"template":18,"sidebar":174,"pagefind":16,"draft":20},"Installation","Install automagicA11y, build the bundle, and wire it into your markup.",[],{"hidden":20,"attrs":175},{},"import DemoCallout from '../../../components/DemoCallout.astro';\n\n# Installation\n\n## Requirements\n\n- Node.js 18 or later\n- A bundler that understands ES modules (Astro, Vite, Next, etc.)\n\n## Install the package\n\n```bash\nnpm install automagica11y\n```\n\nThe library ships with ESM, CJS, minified browser builds, and TypeScript definitions so you can integrate with any workflow.\n\n## Build before running the docs\n\n\u003CDemoCallout type=\"warning\" title=\"Keep the demos fresh\">\n  \u003Cp>\n    The documentation site loads the local \u003Ccode>dist/\u003C/code> bundle. Run \u003Ccode>npm run build\u003C/code> from the project root whenever you make library changes before launching the docs with \u003Ccode>npm run docs:dev\u003C/code>.\n  \u003C/p>\n\u003C/DemoCallout>\n\n## Import patterns\n\nYou can rely on the registry autoloader or import individual helpers.\n\n```js\n// Load everything (auto-inits on the current document)\nimport 'automagica11y';\n\n// Or hydrate specific areas manually\nimport { initNode, initPattern } from 'automagica11y';\n\nconst island = document.querySelector('#partial-render');\nif (island) {\n  initNode(island);\n}\n```\n\n## Minimal HTML\n\n```html\n\u003Cbutton data-automagica11y-toggle=\"#details\">Details\u003C/button>\n\u003Csection id=\"details\" hidden>\n  automagicA11y adds aria-expanded, aria-controls, and keyboard support.\n\u003C/section>\n\u003Cscript type=\"module\">\n  import 'automagica11y';\n\u003C/script>\n```\n\nThe registry observes the document once on load. Use `initNode` for dynamically injected content, or explore the context system to unlock dialogs, tooltips, and custom alias semantics.","src/content/docs/getting-started/installation.mdx","a3058ecd1797e313","getting-started/installation.mdx","patterns/dialog",{"id":180,"data":182,"body":188,"filePath":189,"digest":190,"legacyId":191,"deferredRender":16},{"title":183,"description":184,"editUrl":16,"head":185,"template":18,"sidebar":186,"pagefind":16,"draft":20},"Dialog pattern","Modal dialogs powered by the context registry with alias compatibility.",[],{"hidden":20,"attrs":187},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport DemoCallout from '../../../components/DemoCallout.astro';\nimport Playground from '../../../components/Playground.astro';\nimport { dialogAttributes } from '../../../data/patterns';\n\n# Dialog\n\nDialogs layer focus management, inert background locking, keyboard dismissal, and ARIA semantics on top of toggle. Whether you choose the `context=\"dialog\"` syntax or the legacy `data-automagica11y-dialog` alias, you get identical behavior. The [Contexts guide](/guides/contexts/) outlines how dialog fits into the wider roadmap and how other composites will inherit the same guarantees.\n\n## Guarantees\n\n- Applies `aria-haspopup=\"dialog\"` and `aria-expanded` to triggers.\n- Adds `role=\"dialog\"`, `aria-modal=\"true\"`, and `tabindex=\"-1\"` to the surface.\n- Moves focus inside on open and restores it to the trigger on close.\n- Sets `inert` + `aria-hidden` on siblings while the dialog is active.\n- Emits `automagica11y:ready` and `automagica11y:toggle` lifecycle events.\n- Forwards Escape presses to the owning toggle and restores focus to the opener on close.\n\n## Attribute reference\n\n\u003CAttributeTable attributes={dialogAttributes} />\n\n## Alias fidelity\n\n\u003CDemoCallout type=\"info\" title=\"Parity promise\">\n  \u003Cp>\u003Ccode>data-automagica11y-dialog\u003C/code> is implemented as an alias to the dialog context. You can migrate incrementally without shipping different behavior.\u003C/p>\n\u003C/DemoCallout>\n\n## Demo\n\n\u003CPlayground id=\"pattern-dialog\" heading=\"Context dialog\" description=\"Full-screen lock, focus trap, Escape dismissal.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-context=\"dialog\"\n      data-automagica11y-target=\"#pattern-dialog-surface\"\n      class=\"docs-dialog-pattern__trigger\"\n    >\n      Launch dialog\n    \u003C/button>\n    \u003Cbutton data-automagica11y-dialog=\"#pattern-dialog-alias\" class=\"docs-dialog-pattern__trigger\">\n      Launch via alias\n    \u003C/button>\n\n    \u003Cdiv id=\"pattern-dialog-surface\" role=\"dialog\" aria-labelledby=\"pattern-dialog-title\" hidden>\n      \u003Cdiv role=\"document\" class=\"docs-dialog-pattern__surface\">\n        \u003Ch2 id=\"pattern-dialog-title\">Context dialog\u003C/h2>\n        \u003Cp>Focus stays inside, background becomes inert, and Escape or the close button exits.\u003C/p>\n        \u003Cbutton data-automagica11y-dialog-close class=\"docs-dialog-pattern__close\">Close\u003C/button>\n      \u003C/div>\n    \u003C/div>\n\n    \u003Cdiv id=\"pattern-dialog-alias\" role=\"dialog\" aria-labelledby=\"pattern-dialog-alias-title\" hidden>\n      \u003Cdiv role=\"document\" class=\"docs-dialog-pattern__surface\">\n        \u003Ch2 id=\"pattern-dialog-alias-title\">Alias dialog\u003C/h2>\n        \u003Cp>Alias triggers reuse the same wiring. No behavior drift.\u003C/p>\n        \u003Cbutton data-automagica11y-dialog-close class=\"docs-dialog-pattern__close\">Close\u003C/button>\n      \u003C/div>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#dialog\">Open\u003C/button>\n\u003Cbutton data-automagica11y-dialog=\"#dialog-alias\">Open alias\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\n## Coverage plan\n\n1. Add a walkthrough showing dialog + `initFocusInitial` to focus the first actionable element after transitions.\n2. Document how the animate lifecycle keeps exit animations running before `hidden` toggles.\n3. Provide an example of nested dialogs or grouped triggers that share inert background locking.\n\nProgress is tracked in the [Focus utilities pattern](/patterns/focus/) and the [Examples roadmap](/examples/coverage-plan/).","src/content/docs/patterns/dialog.mdx","d9def3256655b46f","patterns/dialog.mdx","guides/truthiness",{"id":192,"data":194,"body":200,"filePath":201,"digest":202,"legacyId":203,"deferredRender":16},{"title":195,"description":196,"editUrl":16,"head":197,"template":18,"sidebar":198,"pagefind":16,"draft":20},"Truthiness","Map friendly words to canonical open and closed states.",[],{"hidden":20,"attrs":199},{},"import DemoCallout from '../../../components/DemoCallout.astro';\n\n# Truthiness\n\nTruthiness keeps class hooks, events, and plugins consistent across patterns. Instead of remembering exact keywords, you can author whatever feels natural and automagicA11y will map it to the canonical state.\n\n> ðŸ’¡ **Prefix aliases supported:** Every example that uses `data-automagica11y-*` also works with shorthand prefixes like `data-automagically-*`, `data-ama11y-*`, or `data-automagic-*`. The runtime normalizes these aliases before truthiness parsing.\n\n## Canonical states\n\n| Truthy (open) | Falsy (closed) |\n|---------------|----------------|\n| `open` | `closed` |\n| `expanded` | `collapsed` |\n| `shown` | `hidden` |\n| `active` | `inactive` |\n| `pressed` | `unpressed` |\n| `true` | `false` |\n| `on` | `off` |\n\nUse these tokens after `data-automagica11y-trigger-class-*` or `data-automagica11y-target-class-*` and the library will resolve them to the correct boolean.\n\n## Aliases in action\n\n```html\n\u003Cbutton\n  data-automagica11y-toggle=\"#faq\"\n  data-automagica11y-trigger-class-expanded=\"btn--primary\"\n  data-automagica11y-trigger-class-collapsed=\"btn--ghost\"\n>\n  FAQ\n\u003C/button>\n```\n\nThe trigger receives `btn--primary` whenever the toggle is open, regardless of whether the synonym is `expanded`, `shown`, or `true`.\n\n## Why it matters\n\n- **Design tokens stay readable.** Use `active` or `hidden` if thatâ€™s how your team speaks.\n- **Plugins stay simple.** Lifecycle hooks emit a boolean, so you never translate states manually.\n- **Contexts stay compatible.** Dialogs, tooltips, and future patterns all share the same mapping.\n\n\u003CDemoCallout type=\"info\" title=\"Custom vocabularies\">\n  \u003Cp>You can extend truthiness with the context alias system or by registering custom plugins that normalize your own vocabulary before it reaches the registry.\u003C/p>\n\u003C/DemoCallout>","src/content/docs/guides/truthiness.mdx","bd2cb93cf2f7f78b","guides/truthiness.mdx","patterns/focus",{"id":204,"data":206,"body":212,"filePath":213,"digest":214,"legacyId":215,"deferredRender":16},{"title":207,"description":208,"editUrl":16,"head":209,"template":18,"sidebar":210,"pagefind":16,"draft":20},"Focus utilities","Declarative helpers that control initial focus placement and bespoke tab ordering.",[],{"hidden":20,"attrs":211},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport DemoCallout from '../../../components/DemoCallout.astro';\nimport { focusInitialAttributes, focusMapAttributes, focusLinkAttributes, focusTrapAttributes } from '../../../data/patterns';\n\n# Focus utilities\n\nDialog and popover contexts already stabilize focus, but dedicated helpers live in `src/patterns/focus` when you need finer control. The attributes and helpers work declaratively by default and expose `initFocusInitial`/`initFocusMap` for imperative workflows.\n\n## Initial focus (`data-automagica11y-focus-initial`)\n\nMark the surface that should receive focus once after hydration. The helper queues the work with `queueMicrotask`, respects `preventScroll`, restores the original `tabindex` after blur, and never clobbers the natural tab sequence for other elements.\n\n\u003CAttributeTable attributes={focusInitialAttributes} />\n\n### Example\n\n```html\n\u003Cdiv hidden id=\"sheet\">\n  \u003Cbutton\n    data-automagica11y-focus-initial\n    data-automagica11y-focus-delay=\"150\"\n    data-automagica11y-focus-prevent-scroll=\"false\">\n    Jump here after the sheet animates\n  \u003C/button>\n\u003C/div>\n```\n\nCall `initFocusInitial(button)` when the sheet mounts to transfer focus after the animation delay. The helper focuses once per element, so repeated openings respect the original tab order when the node blurs.\n\n## Focus map (`data-automagica11y-focus-map`)\n\nDeclare a precise tab sequence using selectors instead of raw `tabindex`. The helper resolves selectors inside the configured scope, wires keyboard handlers that honor `Tab` and `Shift+Tab`, and keeps focus anchored to the surrounding DOM without trapping or looping.\n\nThe mapped list activates whenever the attribute resolves to elements and a focus anchor is available. The anchor represents the entry point in the DOM, so pressing `Tab` on it jumps into the ordered list while `Shift+Tab` from the first mapped item routes back to it. Tabbing past the last mapped element is intentionally left to the browser so the rest of the page remains reachableâ€”there is no artificial loop.\n\n\u003CAttributeTable attributes={focusMapAttributes} />\n\n\u003CDemoCallout type=\"warning\" title=\"Anchor responsibilities\">\n  Provide a focusable element with `data-automagica11y-focus-map-anchor`. If the anchor selector cannot be resolved (and the scope is the document), the focus map stays disabled. The helper temporarily adds `tabindex=\"0\"` when the anchor lacks natural focusability and restores it on cleanup.\n\u003C/DemoCallout>\n\n### Example\n\n```html\n\u003Cdiv id=\"focus-map-anchor\" tabindex=\"0\" aria-label=\"Focus map entry point\">\u003C/div>\n\n\u003Cdiv id=\"focus-map-zone\"\n     data-automagica11y-focus-map=\"#navbar button; #player button\"\n     data-automagica11y-focus-map-scope=\"#focus-map-zone\"\n     data-automagica11y-focus-map-anchor=\"#focus-map-anchor\">\n  \u003Cdiv id=\"navbar\">\n    \u003Cbutton>Playlist\u003C/button>\n    \u003Cbutton>Now playing\u003C/button>\n  \u003C/div>\n  \u003Cdiv id=\"player\">\n    \u003Cbutton>Play\u003C/button>\n    \u003Cbutton>Pause\u003C/button>\n  \u003C/div>\n\u003C/div>\n\n\u003Ca href=\"#outside\">The rest of the page\u003C/a>\n```\n\nPressing \u003Ckbd>Tab\u003C/kbd> on the anchor jumps into the sequenced buttons, while \u003Ckbd>Tab\u003C/kbd> from the last button naturally lands on the outside linkâ€”the focus map does not loop back on itself.\n\n### Behavior summary\n\n- The attribute accepts a semicolon-delimited string or JSON array of selectors that resolve against the designated scope (`self`, a selector, or the entire document).\n- `data-automagica11y-focus-map-anchor` ties the mapped list back into the natural tab orderâ€”Tab from the anchor goes into the list, \u003Ckbd>Shift\u003C/kbd>+\u003Ckbd>Tab\u003C/kbd> from the first element returns to the anchor, and \u003Ckbd>Tab\u003C/kbd> from the last element continues beyond the focus map.\n- No positive `tabindex` values are assigned; keyboard order is achieved by intercepting Tab presses and focusing the next/previous mapped element.\n- When nodes change after initialization, rerun `initFocusMap` to refresh the order.\n\n## Focus trap (`data-automagica11y-focus-trap`)\n\nWrap an interactive surface in a managed focus loop so keyboard users never land outside the active UI. The attribute version builds on the shared `enableFocusTrap()` helper while handling visibility and event-driven activation.\n\n\u003CAttributeTable attributes={focusTrapAttributes} />\n\n### Example\n\n```html\n\u003Cdiv\n  id=\"sheet\"\n  hidden\n  data-automagica11y-focus-trap\n  data-automagica11y-focus-trap-initial=\"[data-primary]\"\n  data-automagica11y-focus-trap-return=\"true\">\n  \u003Cbutton data-primary>Primary action\u003C/button>\n  \u003Cbutton>Secondary\u003C/button>\n  \u003Cbutton data-automagica11y-dialog-close>Cancel\u003C/button>\n\u003C/div>\n```\n\nWhen the element becomes visible (no `hidden` attribute and `aria-hidden` is not `true`), the trap enables, focuses the first tabbable (or your selector), and keeps Tab/Shift+Tab cycling within. Toggling `hidden` or removing the element disables the trap and returns focus to the opener unless `data-automagica11y-focus-trap-return=\"false\"`.\n\n### Behavior summary\n\n- Auto mode is on by default. Set `data-automagica11y-focus-trap-auto=\"false\"` to opt out and toggle traps manually.\n- The pattern also listens for `automagica11y:toggle`, `automagica11y:toggle:opened`, `automagica11y:toggle:closed`, `automagica11y:shown`, and `automagica11y:hidden` events. Dispatch one with `detail.target` equal to the container to force enable/disable.\n- Escape dismissal stays opt-in via `data-automagica11y-focus-trap-escape-dismiss=\"true\"` so dialogs keep owning their close logic.\n- Nested traps cooperateâ€”activating a child trap pauses its parent. When the child releases, the parent resumes with its previous focus target.\n\n## Per-element links (`data-automagica11y-focus-next` / `data-automagica11y-focus-prev`)\n\nBuild lightweight relationships between neighboring elements without defining an entire map. Any focusable control can declare a `data-automagica11y-focus-next` or `data-automagica11y-focus-prev` selector. When the user presses \u003Ckbd>Tab\u003C/kbd> or \u003Ckbd>Shift\u003C/kbd>+\u003Ckbd>Tab\u003C/kbd>, automagicA11y resolves the selector inside the configured scope, skips hidden/disabled/inert matches, and focuses the first viable result. Reverse edges are inferred automatically, so authoring only the `focus-next` side still makes backward navigation work.\n\n\u003CAttributeTable attributes={focusLinkAttributes} />\n\n### Example\n\n```html\n\u003Csection class=\"controls\" data-automagica11y-focus-scope=\"#player-deck\">\n  \u003Cbutton id=\"shuffle\" data-automagica11y-focus-next=\"#repeat\">Shuffle\u003C/button>\n  \u003Cbutton id=\"play\"\n          data-automagica11y-focus-next=\"#queue\"\n          data-automagica11y-focus-prev=\"#shuffle\">Play\u003C/button>\n  \u003Cdiv id=\"player-deck\">\n    \u003Cbutton id=\"repeat\" data-automagica11y-focus-prev=\"#play\">Repeat\u003C/button>\n    \u003Cbutton id=\"queue\">Queue\u003C/button>\n  \u003C/div>\n\u003C/section>\n```\n\n### Behavior summary\n\n- Use `data-automagica11y-focus-scope=\"self\"` to restrict selectors to the element itself, or pass a selector to limit resolution to a specific container. Without an explicit scope, selectors resolve within the document or shadow root that owns the control.\n- When the resolved node is not focusable, the helper focuses the first focusable descendant. If no focusable element exists, the browserâ€™s natural tab order continues.\n- Focus links are registered once via `initFocusLinks()` (called automatically from the bundle) and coexist with focus maps. Combine them to nudge a few controls without maintaining an ordered list.\n\n## Shared focus utilities\n\n`src/core/focus.ts` exposes reusable helpers that keep focus changes predictable:\n\n- `getFocusableIn(root)` â€” finds focusable descendants inside a container.\n- `focusElement(element, options)` â€” focuses without permanently altering `tabindex`.\n- `enableFocusTrap(container, options)` â€” installs a managed focus trap and returns a disposer.\n- `applyFocusOrder(elements)` â€” temporarily reorders focus via sequential `tabindex` values and returns a controller that restores originals.\n\n## Coverage plan\n\n1. Ship a recipe showing `initFocusInitial` paired with the animate lifecycle so focus waits for exit transitions.\n2. Build a live playground that lets you interactively author focus maps and preview how Tab/Shift+Tab behave.\n3. Cross-link the pattern documentation from contexts once dialogs, popovers, and future composites highlight which helpers they already call header by default.\n\nTrack progress on the [Core modules](/reference/core/) plan as you contribute these additions.","src/content/docs/patterns/focus.mdx","837719ae4eb36f69","patterns/focus.mdx","guides/contexts",{"id":216,"data":218,"body":224,"filePath":225,"digest":226,"legacyId":227,"deferredRender":16},{"title":219,"description":220,"editUrl":16,"head":221,"template":18,"sidebar":222,"pagefind":16,"draft":20},"Contexts","Use contexts as the single source of truth for semantics and behaviors.",[],{"hidden":20,"attrs":223},{},"import DemoCallout from '../../../components/DemoCallout.astro';\nimport Playground from '../../../components/Playground.astro';\n\n# Contexts\n\nContexts sit on top of the [`toggle` foundation](/patterns/toggle/) and orchestrate everything a composite pattern needs: ARIA semantics, behavioral wiring, and alias normalization. Attach a single `data-automagica11y-context` attribute to a toggle trigger and the registry keeps the trigger, target, and any aliases in sync.\n\n## How contexts compose with toggle\n\n1. **Start with a toggle.** Every context begins as a [`data-automagica11y-toggle` trigger](/patterns/toggle/#demo) connected to a target surface.\n2. **Opt into shared semantics.** Add `data-automagica11y-context=\"dialog\"` (or any alias) and the registry applies the appropriate roles and ARIA attributes.\n3. **Layer behaviors on demand.** Context modes decide whether to hydrate focus traps, hover intent, inert locking, and other helpers. Behaviors always piggyback on the same toggle lifecycle events that plugins use.\n4. **Compose freely.** Multiple contexts can coexist on a page. They emit namespaced events (`automagica11y:dialog:*`, `automagica11y:tooltip:*`) so plugins and analytics stay coordinated.\n\n\u003CDemoCallout type=\"success\" title=\"Toggle-first mental model\">\n  \u003Cp>Because contexts reuse toggle internally, everything you learn in the \u003Ca href=\"/patterns/toggle/\">Toggle pattern\u003C/a> applies here too: truthiness aliases, grouped triggers, and lifecycle events all behave identically.\u003C/p>\n\u003C/DemoCallout>\n\n## Attribute API\n\n| Attribute | Description |\n|-----------|-------------|\n| `data-automagica11y-context` | Names the context to activate (for example `dialog`, `tooltip`, `menu`). |\n| `data-automagica11y-target` | Selector for the managed surface. Defaults to the next sibling or the resolved ID. |\n| `data-automagica11y-context-mode` | Controls automation depth. Accepts `all` (default), `semantics-only`, or `behaviors-only`. |\n| `data-automagica11y-context-alias` | Override the alias mapping for bespoke vocabulary. |\n\n### Modes\n\n- `all` â€“ semantics + behaviors (default).\n- `semantics-only` â€“ apply ARIA/role defaults only; wire your own behaviors.\n- `behaviors-only` â€“ reuse dismissal, focus traps, and state syncing without altering existing semantics.\n\n## Capability matrix\n\n| Context | Semantics | Behaviors | Examples | Pattern docs |\n|---------|-----------|-----------|----------|--------------|\n| `dialog` | `role=\"dialog\"`, `aria-modal`, trigger linking | Focus trap, inert siblings, Escape to close, restore focus | [Context dialog](/examples/context-dialog/) | [Dialog pattern](/patterns/dialog/) |\n| `tooltip` | `role=\"tooltip\"`, `aria-describedby` wiring | Hover intent, long-press, anchor follow | [Context tooltip](/examples/context-tooltip/) | [Tooltip pattern](/patterns/tooltip/) |\n| `menu` | `role=\"menu\"` scaffolding | _Behaviors planned_ (roving tabindex, typeahead) | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n| `accordion` | `role=\"region\"` scaffolding | _Behaviors planned_ | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n| `disclosure` | `role=\"region\"` scaffolding | _Behaviors planned_ | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n| `listbox` | `role=\"listbox\"` scaffolding | _Behaviors planned_ | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n| `tablist` | `role=\"tablist\"` scaffolding | _Behaviors planned_ | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n| `tree` | `role=\"tree\"` scaffolding | _Behaviors planned_ | _Roadmap_ | [Toggle pattern](/patterns/toggle/) |\n\nUse the matrix to decide whether a context already automates the behaviors you need or whether you should augment it with plugins today. The [`@core/context/registry.ts`](/reference/core/#contexts-corecontext) reference page lists the same capabilities at the source level.\n\n## Alias map\n\n| Alias | Canonical context |\n|-------|-------------------|\n| `dropdown`, `kebab`, `meatball` | `menu` |\n| `modal`, `dialog`, `sheet` | `dialog` |\n| `details`, `expander`, `disclosure` | `toggle` |\n| `tooltip`, `hint`, `label` | `tooltip` |\n\nAliases keep older attribute names and regional terminology working while still running through the same context pipeline.\n\n## Examples & recipes\n\n- [Dialog quickstart](/getting-started/quickstart/) â€“ builds a dialog with context mode `all`.\n- [Context dialog example](/examples/context-dialog/) â€“ focus trap, inert siblings, Escape dismissal.\n- [Context tooltip example](/examples/context-tooltip/) â€“ hover, focus, and long-press interactions.\n- [Truthiness aliases guide](/guides/truthiness/) â€“ shows how contexts share the same vocabulary.\n\n## Alias parity demos\n\nThe legacy `data-automagica11y-dialog` attribute maps directly to the dialog context.\n\n\u003CPlayground id=\"contexts-dialog\" heading=\"Context vs. alias\" description=\"Two ways to activate the same dialog wiring.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cdiv class=\"docs-contexts-guide__grid\">\n      \u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#context-dialog\">Open via context\u003C/button>\n      \u003Cbutton data-automagica11y-dialog=\"#alias-dialog\">Open via alias\u003C/button>\n    \u003C/div>\n\n    \u003Cdiv id=\"context-dialog\" role=\"dialog\" aria-labelledby=\"context-dialog-title\" hidden>\n      \u003Ch2 id=\"context-dialog-title\">Context dialog\u003C/h2>\n      \u003Cp>Focus trapping, inert background, and Escape dismissal are included.\u003C/p>\n      \u003Cbutton data-automagica11y-dialog-close>Close\u003C/button>\n    \u003C/div>\n\n    \u003Cdiv id=\"alias-dialog\" role=\"dialog\" aria-labelledby=\"alias-dialog-title\" hidden>\n      \u003Ch2 id=\"alias-dialog-title\">Alias dialog\u003C/h2>\n      \u003Cp>The alias uses the same context internally, guaranteeing parity.\u003C/p>\n      \u003Cbutton data-automagica11y-dialog-close>Close\u003C/button>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#context-dialog\">Open via context\u003C/button>\n\u003Cbutton data-automagica11y-dialog=\"#alias-dialog\">Open via alias\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\nTooltips share the same alias wiring.\n\n\u003CPlayground id=\"contexts-tooltip\" heading=\"Context vs. tooltip alias\" description=\"Context and alias both hydrate tooltip behavior.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cdiv class=\"docs-contexts-guide__grid\">\n      \u003Cbutton data-automagica11y-context=\"tooltip\" data-automagica11y-target=\"#context-tooltip\">\n        Hover or focus me\n      \u003C/button>\n      \u003Cbutton data-automagica11y-tooltip=\"#alias-tooltip\">Alias trigger\u003C/button>\n    \u003C/div>\n\n    \u003Cspan id=\"context-tooltip\" role=\"tooltip\" hidden>Context-powered tooltip.\u003C/span>\n    \u003Cspan id=\"alias-tooltip\" role=\"tooltip\" hidden>Alias-powered tooltip.\u003C/span>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"tooltip\" data-automagica11y-target=\"#context-tooltip\">Hover me\u003C/button>\n\u003Cbutton data-automagica11y-tooltip=\"#alias-tooltip\">Alias trigger\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\n## Roadmap\n\nThe context registry evolves alongside the core patterns. Track progress in the [Examples roadmap](/examples/coverage-plan/) and the [Core reference](/reference/core/):\n\n- **Menu context behaviors** â€“ roving tabindex, typeahead search, and dismissible submenus.\n- **Accordion & disclosure parity** â€“ share toggle grouping logic, add `aria-disabled` and single-open coordination.\n- **Listbox, tablist, and tree** â€“ mirror WAI-ARIA Authoring Practices with arrow key navigation and typeahead.\n- **Context capability lab** â€“ interactive demo that lets you toggle focus trap, inert siblings, hover intent, and anchor follow helpers individually.\n\nAs each milestone lands, the matrix above and the associated pattern pages will note the new capabilities.\n\n## Continue exploring\n\n- Dive into the [Dialog pattern](/patterns/dialog/) and [Tooltip pattern](/patterns/tooltip/) for behavior deep dives.\n- Pair contexts with plugins like [Announce](/plugins/announce/) to broadcast state changes to screen readers.\n- Explore imperative helpers in [`@core/context/helpers`](/reference/core/#contexts-corecontext) when you need bespoke orchestration.","src/content/docs/guides/contexts.mdx","3581e22715442219","guides/contexts.mdx","patterns/popover",{"id":228,"data":230,"body":236,"filePath":237,"digest":238,"legacyId":239,"deferredRender":16},{"title":231,"description":232,"editUrl":16,"head":233,"template":18,"sidebar":234,"pagefind":16,"draft":20},"Popover pattern","Floating panels with outside click dismissal, Escape handling, and placement helpers.",[],{"hidden":20,"attrs":235},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport DemoCallout from '../../../components/DemoCallout.astro';\nimport Playground from '../../../components/Playground.astro';\nimport { popoverAttributes } from '../../../data/patterns';\n\n# Popover\n\nPopovers extend toggle with anchored positioning, rich dismissal mechanics, and ARIA glue. They stay in sync with CSS animations, focus management, and plugin hooks so you can build command palettes, menus, or teaching bubbles without bespoke wiring.\n\n## Behavior highlights\n\n- Adds `aria-haspopup=\"dialog\"`, `aria-expanded`, and `aria-controls` to triggers.\n- Keeps the surface hidden until open, synchronizing `hidden` and `aria-hidden`.\n- Resolves placement (`top`, `bottom`, `left`, `right`) automatically using viewport heuristics.\n- Supports outside click, Escape, scroll distance, and custom dismiss controls.\n- Emits lifecycle events (`automagica11y:popover:toggle`, `automagica11y:popover:shown`, `automagica11y:popover:hidden`, `automagica11y:popover:placement`).\n\n## Attribute reference\n\n\u003CAttributeTable attributes={popoverAttributes} />\n\n## Events\n\n| Event | Detail payload |\n|-------|----------------|\n| `automagica11y:popover:ready` | `{ trigger, target }` after hydration. |\n| `automagica11y:popover:toggle` | `{ trigger, target, expanded, reason }` for every state change. |\n| `automagica11y:popover:shown` / `hidden` | `{ trigger, target, reason }` after visibility transitions. |\n| `automagica11y:popover:dismissed` | `{ trigger, target, reason }` when closed via outside click, Escape, scroll, or dismiss control. |\n| `automagica11y:popover:placement` | `{ trigger, target, placement }` each time the resolved placement updates. |\n\n\u003CDemoCallout type=\"info\" title=\"Pair with animate\">Add `data-automagica11y-animate` to your trigger so automagicA11y waits for CSS transitions before the popover fully hides. This keeps opacity fades smooth without flashing hidden content.\u003C/DemoCallout>\n\n## Demo\n\n\u003CPlayground id=\"pattern-popover\" heading=\"Popover playground\" description=\"Outside dismissal, scroll-dismiss, and placement events.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-popover=\"#pattern-popover-surface\"\n      data-automagica11y-popover-position=\"bottom\"\n      data-automagica11y-popover-scroll-distance=\"24\"\n      class=\"docs-popover-pattern__trigger\"\n    >\n      Toggle popover\n    \u003C/button>\n    \u003Cdiv id=\"pattern-popover-surface\" hidden class=\"docs-popover-pattern__surface\">\n      \u003Cp>Click outside, press Escape, or scroll 24px to dismiss.\u003C/p>\n      \u003Cbutton data-automagica11y-popover-dismiss class=\"docs-popover-pattern__close\">Dismiss\u003C/button>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-popover=\"#surface\" data-automagica11y-popover-position=\"auto\">`}\n{`  Toggle popover`}\n{`\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\n## Coverage plan\n\n1. Document how popovers interact with contexts (`data-automagica11y-context=\"menu\"`) once list patterns gain behaviors.\n2. Provide a recipe integrating popovers with focus maps for command menus.\n3. Add an example showing animated placement changes reacting to `automagica11y:popover:placement`.\n\nTrack progress in the [Examples roadmap](/examples/coverage-plan/).","src/content/docs/patterns/popover.mdx","415fb2b21611d08a","patterns/popover.mdx","patterns/toggle",{"id":240,"data":242,"body":248,"filePath":249,"digest":250,"legacyId":251,"deferredRender":16},{"title":243,"description":244,"editUrl":16,"head":245,"template":18,"sidebar":246,"pagefind":16,"draft":20},"Toggle pattern","The foundational show/hide primitive powering every context.",[],{"hidden":20,"attrs":247},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport DemoCallout from '../../../components/DemoCallout.astro';\nimport Playground from '../../../components/Playground.astro';\nimport { toggleAttributes } from '../../../data/patterns';\n\n# Toggle\n\nThe toggle pattern wires ARIA and visibility state for show/hide interactions. It powers every other context, so getting comfortable with toggle unlocks the entire toolkit. The [Contexts guide](/guides/contexts/) shows how dialog, tooltip, and upcoming composites layer additional semantics on top of this foundation.\n\n## Behavior highlights\n\n- Adds `aria-expanded` and `aria-controls` to triggers.\n- Generates IDs when missing and links targets with `aria-labelledby`.\n- Hides targets by default and removes `hidden` when opened.\n- Emits lifecycle events (`automagica11y:ready`, `automagica11y:toggle`, `automagica11y:toggle:opened`, `automagica11y:toggle:closed`).\n- Normalizes truthiness so `active`, `open`, `true`, and `on` all map to the open state.\n\n## Attribute reference\n\n\u003CAttributeTable attributes={toggleAttributes} />\n\n## Keyboard support\n\n- Space/Enter toggle the target for non-button triggers (buttons work out of the box).\n- Focus stays on the trigger when toggling so keyboard users keep context.\n- Non-button triggers receive `role=\"button\"` and `tabindex=\"0\"` automatically.\n\n## Events\n\n| Event | Detail payload |\n|-------|----------------|\n| `automagica11y:ready` | `{ trigger, target, targets }` once initialization completes. |\n| `automagica11y:toggle` | `{ trigger, target, targets, expanded }` on every state change. |\n| `automagica11y:toggle:opened` | `{ trigger, target, targets }` after an open transition completes. |\n| `automagica11y:toggle:closed` | `{ trigger, target, targets }` after a close transition completes. |\n\n## Demo\n\n\u003CPlayground id=\"pattern-toggle\" heading=\"Toggle playground\" description=\"Truthiness-aware classes and lifecycle events.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton\n      data-automagica11y-toggle=\"#pattern-toggle-panel\"\n      data-automagica11y-trigger-class-open=\"docs-toggle-pattern__trigger--active\"\n      data-automagica11y-target-class-open=\"docs-toggle-pattern__panel--open\"\n      class=\"docs-toggle-pattern__trigger\"\n    >\n      Toggle content\n    \u003C/button>\n    \u003Csection id=\"pattern-toggle-panel\" hidden class=\"docs-toggle-pattern__panel\">\n      \u003Cp>The toggle pattern sets aria-expanded and keeps attributes in sync.\u003C/p>\n    \u003C/section>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-toggle=\"#panel\" data-automagica11y-trigger-class-open=\"toggle--active\">\n  Toggle content\n\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\n\u003CDemoCallout type=\"info\" title=\"Inspect events\">\n  \u003Cp>Open your devtools console and listen for \u003Ccode>automagica11y:toggle\u003C/code> to react to each state change.\u003C/p>\n\u003C/DemoCallout>\n\n## Coverage plan\n\n1. Add a live demo combining toggle with `data-automagica11y-context=\"menu\"` once menu semantics ship.\n2. Document how grouped toggles (`data-automagica11y-group`) coordinate state across triggers.\n3. Provide recipes showing how the animate lifecycle and announce plugin extend toggle events.\n\nTrack plan progress in [Core modules](/reference/core/) and the [Examples roadmap](/examples/coverage-plan/).","src/content/docs/patterns/toggle.mdx","88fad681ad2f6a5b","patterns/toggle.mdx","getting-started/quickstart",{"id":252,"data":254,"body":259,"filePath":260,"digest":261,"legacyId":262,"deferredRender":16},{"title":65,"description":255,"editUrl":16,"head":256,"template":18,"sidebar":257,"pagefind":16,"draft":20},"Wire a toggle and dialog in minutes using the context system.",[],{"hidden":20,"attrs":258},{},"import Playground from '../../../components/Playground.astro';\n\n# Quickstart\n\nThis guide walks through a minimal toggle and a dialog powered by contexts. Build once, scale to any framework. If you want the full mental model, the [Contexts guide](/guides/contexts/) maps how the registry layers semantics and behaviors on top of toggle.\n\n## 1. Add the markup\n\n```html\n\u003Cbutton data-automagica11y-toggle=\"#details\">Details\u003C/button>\n\u003Csection id=\"details\" hidden>\n  Plain toggle example.\n\u003C/section>\n\n\u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#quickstart-dialog\">\n  Launch dialog\n\u003C/button>\n\u003Cdiv id=\"quickstart-dialog\" role=\"dialog\" hidden>\n  \u003Ch2 id=\"quickstart-title\">Context-driven dialog\u003C/h2>\n  \u003Cp>Roles, aria-modal, focus trapping, and dismissal all come for free.\u003C/p>\n  \u003Cbutton data-automagica11y-dialog-close>Close\u003C/button>\n\u003C/div>\n```\n\n## 2. Load the library\n\n```html\n\u003Cscript type=\"module\">\n  import 'automagica11y';\n\u003C/script>\n```\n\nThe import auto-initializes every supported pattern on the current document.\n\n## 3. Test it in the playground\n\n\u003CPlayground\n  id=\"quickstart-dialog\"\n  heading=\"Toggle + dialog\"\n  description=\"Contexts layer semantics on top of toggle behaviors.\"\n>\n  \u003Cdiv slot=\"demo\">\n    \u003Cbutton data-automagica11y-toggle=\"#quickstart-toggle\">Toggle details\u003C/button>\n    \u003Csection id=\"quickstart-toggle\" hidden>\n      \u003Cp>This section is revealed with aria-expanded, aria-controls, and keyboard support applied for you.\u003C/p>\n    \u003C/section>\n\n    \u003Cbutton\n      class=\"dialog-launch\"\n      data-automagica11y-context=\"dialog\"\n      data-automagica11y-target=\"#quickstart-dialog-surface\"\n      data-automagica11y-context-mode=\"all\"\n    >\n      Open dialog\n    \u003C/button>\n    \u003Cdiv id=\"quickstart-dialog-surface\" role=\"dialog\" aria-labelledby=\"quickstart-dialog-title\" hidden>\n      \u003Cdiv role=\"document\">\n        \u003Ch2 id=\"quickstart-dialog-title\">Context-powered dialog\u003C/h2>\n        \u003Cp>Focus trapping, inert siblings, Escape/overlay dismissal, and restoration are automatic.\u003C/p>\n        \u003Cbutton data-automagica11y-dialog-close>Close dialog\u003C/button>\n      \u003C/div>\n    \u003C/div>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"dialog\" data-automagica11y-target=\"#dialog\">\n  Open dialog\n\u003C/button>\n\u003Cdiv id=\"dialog\" role=\"dialog\" hidden>\n  \u003Cbutton data-automagica11y-dialog-close>Close dialog\u003C/button>\n\u003C/div>`}\n  \u003C/div>\n\u003C/Playground>","src/content/docs/getting-started/quickstart.mdx","3720834709682866","getting-started/quickstart.mdx","patterns/tooltip",{"id":263,"data":265,"body":271,"filePath":272,"digest":273,"legacyId":274,"deferredRender":16},{"title":266,"description":267,"editUrl":16,"head":268,"template":18,"sidebar":269,"pagefind":16,"draft":20},"Tooltip pattern","Hover/focus tooltips powered by the context registry.",[],{"hidden":20,"attrs":270},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport DemoCallout from '../../../components/DemoCallout.astro';\nimport Playground from '../../../components/Playground.astro';\nimport { tooltipAttributes } from '../../../data/patterns';\n\n# Tooltip\n\nTooltips reuse the toggle foundation but add hover intent, long-press support, and placement helpers. Like dialogs, the context syntax and alias produce identical behavior. Review the [Contexts guide](/guides/contexts/) to understand how tooltip capabilities fit into the broader registry alongside menus, accordions, and other planned composites.\n\n## Behavior highlights\n\n- Synchronizes `aria-describedby` between trigger and tooltip.\n- Keeps tooltips hidden by default and toggles `hidden` + `aria-hidden`.\n- Supports pointer hover, focus, keyboard, and long-press activation.\n- Shares truthiness mapping for class hooks, so `data-automagica11y-trigger-class-shown` just works.\n- Emits context events (`automagica11y:tooltip:toggle`, `automagica11y:tooltip:shown`, `automagica11y:tooltip:hidden`) whenever the tooltip visibility changes.\n\n## Attribute reference\n\n\u003CAttributeTable attributes={tooltipAttributes} />\n\n## Alias fidelity\n\n\u003CDemoCallout type=\"info\" title=\"Alias compatibility\">\n  \u003Cp>\u003Ccode>data-automagica11y-tooltip\u003C/code> is implemented on top of the tooltip context. Switching syntax will not change runtime behavior.\u003C/p>\n\u003C/DemoCallout>\n\n## Events\n\n| Event | Detail payload |\n|-------|----------------|\n| `automagica11y:tooltip:ready` | `{ trigger, target }` when hydration finishes. |\n| `automagica11y:tooltip:toggle` | `{ trigger, target, expanded }` every time the tooltip state flips. |\n| `automagica11y:tooltip:shown` / `hidden` | `{ trigger, target }` after visibility changes settle. |\n\n## Demo\n\n\u003CPlayground id=\"pattern-tooltip\" heading=\"Tooltip interactions\" description=\"Hover, focus, or long-press to show hints.\">\n  \u003Cdiv slot=\"demo\">\n    \u003Cdiv class=\"docs-tooltip-pattern__grid\">\n      \u003Cbutton\n        data-automagica11y-context=\"tooltip\"\n        data-automagica11y-target=\"#context-tooltip-surface\"\n        data-automagica11y-tooltip-open-delay=\"150\"\n      >\n        Context trigger\n      \u003C/button>\n      \u003Cbutton data-automagica11y-tooltip=\"#alias-tooltip-surface\">Alias trigger\u003C/button>\n    \u003C/div>\n\n    \u003Cspan id=\"context-tooltip-surface\" role=\"tooltip\" hidden>Context tooltip with 150ms delay.\u003C/span>\n    \u003Cspan id=\"alias-tooltip-surface\" role=\"tooltip\" hidden>Alias tooltip.\u003C/span>\n  \u003C/div>\n  \u003Cdiv slot=\"code\">\n{`\u003Cbutton data-automagica11y-context=\"tooltip\" data-automagica11y-target=\"#tooltip\">Hover me\u003C/button>`}\n  \u003C/div>\n\u003C/Playground>\n\n## Coverage plan\n\n1. Add a demo illustrating hover intent configuration with different open/close delays.\n2. Document how tooltips respond to touch long-press and how to customize `data-automagica11y-tooltip-long-press`.\n3. Provide guidance for accessible dismiss buttons using `data-automagica11y-tooltip-dismiss`.\n\nSee the [Examples roadmap](/examples/coverage-plan/) for progress tracking.","src/content/docs/patterns/tooltip.mdx","6a5ce2fd9efb929a","patterns/tooltip.mdx","reference/api",{"id":275,"data":277,"body":283,"filePath":284,"digest":285,"legacyId":286,"deferredRender":16},{"title":278,"description":279,"editUrl":16,"head":280,"template":18,"sidebar":281,"pagefind":16,"draft":20},"API","Programmatic helpers exported by automagicA11y.",[],{"hidden":20,"attrs":282},{},"# API\n\nautomagicA11y is declarative-first, but every pattern exposes programmatic helpers when you need fine-grained control.\n\n## Registry helpers\n\n```ts\nimport { initAllPatterns, initPattern, initPatterns, initNode } from 'automagica11y';\n```\n\n- `initAllPatterns(root?)` â€“ hydrate every registered pattern under `root` (defaults to `document`).\n- `initPattern(name, root?)` â€“ hydrate a single pattern by name.\n- `initPatterns(names, root?)` â€“ hydrate several patterns at once.\n- `initNode(node)` â€“ run all registered initializers against a specific element. Perfect for islands or freshly injected markup.\n\n## Pattern helpers\n\n```ts\nimport {\n  initToggle,\n  isToggleOpen,\n  getToggleTarget,\n  initTooltip,\n  initPopover,\n  initDialog,\n  initFocusInitial,\n  initFocusMap\n} from 'automagica11y';\n```\n\n- `initToggle(trigger)` â€“ initialize an individual toggle trigger.\n- `isToggleOpen(trigger)` â€“ read the resolved boolean state.\n- `getToggleTarget(trigger)` â€“ return the resolved target element.\n- `initTooltip(trigger)` â€“ hydrate a tooltip trigger (context-aware).\n- `initPopover(trigger)` â€“ hydrate a popover trigger.\n- `initDialog(trigger)` â€“ hydrate a dialog trigger.\n- `initFocusInitial(element)` â€“ apply the initial-focus helper to a node.\n- `initFocusMap(element)` â€“ wire a custom focus order map.\n\nAll helpers return cleanup functions when applicable, enabling frameworks to destroy behaviors during unmount.\n\n## Extensions\n\n```ts\nimport { registerAnnouncePlugin, initAnimateLifecycle } from 'automagica11y';\n```\n\nThe announce plugin still requires an explicit registration so it can listen for toggle changes. Animate is now part of the core lifecycle and no longer needs a manual call. For advanced scenarios you can call `initAnimateLifecycle(document)` to register the listener against a specific document (iframes, portals, etc.), but the default build handles it automatically during hydration.","src/content/docs/reference/api.mdx","9b8e32a398d080ff","reference/api.mdx","reference/events",{"id":287,"data":289,"body":295,"filePath":296,"digest":297,"legacyId":298,"deferredRender":16},{"title":290,"description":291,"editUrl":16,"head":292,"template":18,"sidebar":293,"pagefind":16,"draft":20},"Events","Lifecycle events fired by automagicA11y patterns and plugins.",[],{"hidden":20,"attrs":294},{},"# Events\n\nautomagicA11y emits consistent, namespaced events. Listen for these on `document` (they bubble) or directly on triggers when you need more granular control.\n\n## Core toggle events\n\n| Event | Fired when | Detail |\n|-------|------------|--------|\n| `automagica11y:ready` | A trigger/target pair finishes initialization. | `{ trigger, target, targets }` |\n| `automagica11y:toggle` | State changes between open/closed (cancelable). | `{ trigger, target, targets, expanded }` |\n| `automagica11y:toggle:opened` | After the target is fully shown. | `{ trigger, target, targets }` |\n| `automagica11y:toggle:closed` | After the target is hidden. | `{ trigger, target, targets }` |\n\nAnimate listens for `automagica11y:toggle` and may cancel the close transition while animations finish. Watch for `event.defaultPrevented` if you are coordinating custom teardown logic.\n\n## Tooltip events\n\n| Event | Fired when | Detail |\n|-------|------------|--------|\n| `automagica11y:tooltip:ready` | Tooltip wiring completes. | `{ trigger, target }` |\n| `automagica11y:tooltip:toggle` | Tooltip visibility changes. | `{ trigger, target, expanded }` |\n| `automagica11y:tooltip:shown` | Tooltip has been revealed. | `{ trigger, target }` |\n| `automagica11y:tooltip:hidden` | Tooltip is hidden. | `{ trigger, target }` |\n\nLegacy aliases `automagica11y:ready` and `automagica11y:toggle` still fire for tooltip triggers to keep early integrations working.\n\n## Popover events\n\n| Event | Fired when | Detail |\n|-------|------------|--------|\n| `automagica11y:popover:ready` | Popover finishes initialization. | `{ trigger, target }` |\n| `automagica11y:popover:toggle` | Open/close transitions. | `{ trigger, target, expanded, reason }` |\n| `automagica11y:popover:shown` / `automagica11y:popover:hidden` | After visibility updates. | `{ trigger, target, reason }` |\n| `automagica11y:popover:dismissed` | Popover closed due to Escape, outside click, etc. | `{ trigger, target, reason }` |\n| `automagica11y:popover:placement` | Placement engine resolves a side. | `{ trigger, target, placement }` |\n\n## Animate lifecycle events\n\n| Event | Fired when | Detail |\n|-------|------------|--------|\n| `automagica11y:animation-done` | Animate finishes a deferred close transition. | `{ trigger, target, watched?, phase: \"close\" }` |\n\nAnimate re-dispatches the original `automagica11y:toggle` event with `detail.__automagica11yAnimateProcessed = true` once animations complete. Use this to run logic after CSS transitions settle.","src/content/docs/reference/events.mdx","2d0410b3f9fbca6e","reference/events.mdx","reference/attributes",{"id":299,"data":301,"body":307,"filePath":308,"digest":309,"legacyId":310,"deferredRender":16},{"title":302,"description":303,"editUrl":16,"head":304,"template":18,"sidebar":305,"pagefind":16,"draft":20},"Attributes","Reference for the declarative attribute grammar used across patterns.",[],{"hidden":20,"attrs":306},{},"import AttributeTable from '../../../components/AttributeTable.astro';\nimport { attributeReference } from '../../../data/patterns';\n\n# Attributes\n\nThe attribute grammar keeps every pattern declarative. Mix and match contexts, plugins, and truthiness-aware class hooks without writing JavaScript.\n\n> ðŸª„ **Shorthand friendly:** Prefer the canonical `data-automagica11y-` prefix in docs, but the runtime also accepts `data-automagically-`, `data-ama11y-`, `data-ama-`, and other supported aliases. All prefixes normalize before selectors or registries run.\n\n\u003CAttributeTable attributes={attributeReference} />","src/content/docs/reference/attributes.mdx","7fe07f318baddc4a","reference/attributes.mdx","reference/core",{"id":311,"data":313,"body":319,"filePath":320,"digest":321,"legacyId":322,"deferredRender":16},{"title":314,"description":315,"editUrl":16,"head":316,"template":18,"sidebar":317,"pagefind":16,"draft":20},"Core modules","How the building blocks under src/core fit together and when to reach for each helper.",[],{"hidden":20,"attrs":318},{},"import DemoCallout from '../../../components/DemoCallout.astro';\n\n# Core modules\n\nThe `src/core` directory hosts the primitives that every pattern, context, and plugin shares. Use this page as a map when you need to wire a bespoke behavior or understand how higher-level features stay in sync.\n\n## Attributes (`@core/attributes`)\n\n- `ensureId(element, prefix)` guarantees repeatable ARIA wiring by stamping IDs when authors omit them.\n- `setAriaExpanded`, `setAriaHidden`, `appendToken`, and `removeToken` keep boolean state and token lists synchronized across trigger and target elements.\n- Prefer these helpers over manual attribute juggling so you inherit the library's whitespace and UUID safeguards.\n\n```ts\nimport { ensureId, setAriaExpanded } from 'automagica11y/core';\n\nconst trigger = document.querySelector\u003CHTMLButtonElement>('[data-automagica11y-toggle]');\nif (trigger) {\n  ensureId(trigger, 'docs-trigger');\n  setAriaExpanded(trigger, false);\n}\n```\n\n## ARIA (`@core/aria`)\n\n- `setIfAbsent(element, name, value)` writes defaults without clobbering author overrides. Contexts use it to respect custom roles and labels.\n\n## Classes (`@core/classes`)\n\n- Truthiness-aware parsing lets authors describe class hooks using any of the reserved state keywords (`open`, `shown`, `true`, etc.).\n- `createClassToggler(trigger, options)` returns a function that applies the correct class set to the trigger and target for each boolean state.\n- `getClassConfig` and `applyClasses` are available when you need to inspect or reuse the parsed configuration directly.\n\n\u003CDemoCallout type=\"info\" title=\"Share configuration\">Reuse the toggler returned from `createClassToggler` whenever multiple surfaces mirror the same state so you avoid re-parsing author attributes.\u003C/DemoCallout>\n\n## Contexts (`@core/context/*`)\n\nContext logic allows toggle-based patterns to layer richer semantics and behaviors:\n\n- `context/aliases.ts` maps friendly names (`modal`, `tabs`, `treeview`) to canonical registry keys.\n- `normalizeContext(value)` accepts any alias and returns the canonical key registered in `Contexts`.\n- `applyContext(trigger, target, contextName, mode)` orchestrates semantics (`aria-*`, roles) and behaviors (focus traps, hover intent, inert background) based on the selected mode (`all`, `semantics-only`, or `behaviors-only`).\n- `helpers.ts` exposes a toolbox of reusable behaviors: focus traps, Escape-to-close, hover intent, inert siblings, anchor-follow notifications, and more.\n- `registry.ts` enumerates the built-in contexts (`dialog`, `tooltip`, `menu`, `accordion`, `disclosure`, `listbox`, `tablist`, `tree`) and records which capabilities each one enables today. Dialog and tooltip ship with complete behaviors; the remaining contexts currently provide semantic scaffolding so authors can build progressively.\n\n### Capability reference\n\n| Capability | Helper | Purpose |\n|------------|--------|---------|\n| `semantics` | `helpers.link`, `helpers.setRole`, `helpers.setAria` | Applies ARIA relationships and roles safely. |\n| `focusTrap` | `helpers.focusTrap` | Traps focus inside a dialog surface. |\n| `escToClose` | `helpers.closeOnEscape` | Wires Escape to the owning toggle controller. |\n| `inertSiblings` | `helpers.inertSiblingsWhileOpen` | Locks background content while a modal dialog is active. |\n| `restoreFocus` | `helpers.restoreFocusOnClose` | Returns focus to the opener after dismissal. |\n| `hoverIntent` | `helpers.hoverIntent` | Provides pointer/focus/touch hover intent for tooltip-style surfaces. |\n| `anchorFollow` | `helpers.anchorFollow` | Emits `automagica11y:context:anchor` so positioning plugins can react. |\n| `rovingTabindex`, `typeahead`, `arrowNav` | _Planned_ | Reserved for future interactive list patterns. |\n\nUse the `capabilities` array exposed on each context to detect what semantics and behaviors are currently automated and where you may need to augment with custom logic.\n\n## Events (`@core/events`)\n\n- `dispatch(target, type, detail, options?)` wraps `CustomEvent` creation with the library defaults (bubbling + composed events) and enforces the `automagica11y:\u003Cpattern>:\u003Caction>` naming convention.\n- Pass `{ cancelable: true }` when plugins should be able to veto a close or open transition.\n\n## Focus (`@core/focus`)\n\nFocus utilities power both the dialog context and dedicated focus patterns:\n\n- `isFocusable(element)` and `getFocusableIn(root)` filter nodes against visibility, `hidden`, `aria-hidden`, and `tabindex` rules.\n- `focusElement(element, { preventScroll, preserveTabIndex })` safely focuses while preserving author `tabindex` values.\n- `focusFirst(root)` moves focus to the first focusable descendant, falling back to the root element.\n- `enableFocusTrap(container, options)` activates a managed focus loop and returns a disposer.\n- `applyFocusOrder(elements, options)` assigns a deterministic tab order and returns a controller to restore the previous state.\n\n## Keyboard (`@core/keyboard`)\n\n- `isActivateKey(event)` checks for Space/Enter activation. Toggle uses it to give non-button triggers button semantics.\n\n## Placement (`@core/placement`)\n\n- `resolveAnchoredPlacement(trigger, surface, preferred, measure?)` decides where to position anchored surfaces (tooltips, popovers) while respecting viewport constraints. Provide a custom `measure` object when rendering inside a scroller or virtual viewport.\n\n## Registry (`@core/registry`)\n\n- `registerPattern(name, selector, init)` registers a pattern initializer along with its selector.\n- `initPattern(name, root?)`, `initPatterns(names, root?)`, `initNode(node)`, and `initAllPatterns(root?)` hydrate patterns individually, in bulk, or against injected DOM fragments.\n- Patterns automatically mark hydrated elements with a `WeakSet` guard, so re-running an initializer is safe.\n\n## Styles (`@core/styles`)\n\n- `setHiddenState(element, hidden)` keeps `hidden` and `aria-hidden` synchronized.\n- `setInert(element, true/false)` applies or removes the `inert` attribute while preserving author intent.\n\n---\n\n## Example & documentation coverage plan\n\nTo keep the docs actionable, every core subsystem will receive the following coverage over time:\n\n1. **Narrative guide** â€“ deepen this overview with end-to-end recipes (focus traps inside dialogs, hover intent customization, etc.).\n2. **Interactive example** â€“ each capability should have a live playground demonstrating the helper in isolation.\n3. **API reference** â€“ expand the existing tables with parameter/return type callouts and cross-links to patterns that consume the helper.\n\n\u003CDemoCallout type=\"success\" title=\"Tracking progress\">As you create new guides, reference this plan and tick off the relevant bullet so contributors know which areas still need hands-on demos.\u003C/DemoCallout>","src/content/docs/reference/core.mdx","7ed338e6ef6ac2af","reference/core.mdx","plugins/announce",{"id":323,"data":325,"body":331,"filePath":332,"digest":333,"legacyId":334,"deferredRender":16},{"title":326,"description":327,"editUrl":16,"head":328,"template":18,"sidebar":329,"pagefind":16,"draft":20},"Announce plugin","Pipe toggle events into a shared live region for screen readers.",[],{"hidden":20,"attrs":330},{},"# Announce plugin\n\nThe announce plugin listens to `automagica11y:toggle` events and speaks updates through a shared ARIA live region. Opt-in with a single attribute to make state changes audible.\n\n## Install\n\n```ts\nimport { registerAnnouncePlugin } from 'automagica11y';\n\nregisterAnnouncePlugin();\n```\n\nCall `registerAnnouncePlugin()` once during boot. It creates a hidden live region and starts listening for toggle events.\n\n## Opt-in on triggers\n\n```html\n\u003Cbutton\n  data-automagica11y-toggle=\"#filters\"\n  data-automagica11y-announce=\"assertive\"\n  data-automagica11y-announce-open=\"Filters expanded\"\n  data-automagica11y-announce-closed=\"Filters collapsed\"\n>\n  Filters\n\u003C/button>\n```\n\n- `data-automagica11y-announce` â€“ enables the plugin. Pass `assertive` for urgent updates (default: polite).\n- `data-automagica11y-announce-open` â€“ optional custom string for the open state.\n- `data-automagica11y-announce-closed` â€“ optional custom string for the closed state.\n\nIf you omit the custom strings, the plugin synthesizes announcements like â€œFilters expandedâ€ based on the triggerâ€™s accessible name.\n\n## Lifecycle\n\n- Creates a single `role=\"status\"` live region appended to `body`.\n- Debounces duplicate messages for 750â€¯ms to avoid chatter.\n- Automatically hides the region visually while keeping it accessible.\n\nCombine announce with contexts to give dialogs, tooltips, and upcoming menus audible feedback out of the box.\n\n## Coverage plan\n\n1. Add a demo that logs live region updates so authors can verify wording without a screen reader.\n2. Document how announce interacts with grouped toggles (only the active trigger should speak).\n3. Provide guidance for localizing custom announcement strings.\n\nProgress is tracked on the [Examples roadmap](/examples/coverage-plan/).","src/content/docs/plugins/announce.mdx","3a3a3c139266532c","plugins/announce.mdx","getting-started/angular",{"id":335,"data":337,"body":343,"filePath":344,"digest":345,"legacyId":346,"deferredRender":16},{"title":338,"description":339,"editUrl":16,"head":340,"template":18,"sidebar":341,"pagefind":16,"draft":20},"Angular","Import automagicA11y in Angular apps with SSR guards and router hydration hooks.",[],{"hidden":20,"attrs":342},{},"import DemoCallout from '../../../components/DemoCallout.astro';\n\n# Angular integration\n\nAngular 16 and 17 projects can treat automagicA11y like any other ESM dependency. Use the standard\nTypeScript import inside components and guard invocations with `isPlatformBrowser` so server renders stay inert.\n\n## 1. Install\n\n```bash\nnpm install automagica11y\n```\n\n## 2. Import in a component\n\n```ts\n// app.component.ts\nimport {\n  Component,\n  Inject,\n  PLATFORM_ID,\n  AfterViewInit,\n  OnInit\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { initAllPatterns } from 'automagica11y';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent implements AfterViewInit, OnInit {\n  constructor(@Inject(PLATFORM_ID) private platformId: object, private router: Router) {}\n\n  ngAfterViewInit(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      initAllPatterns();\n    }\n  }\n\n  ngOnInit(): void {\n    this.router.events.subscribe(event => {\n      if (isPlatformBrowser(this.platformId) && event instanceof NavigationEnd) {\n        initAllPatterns();\n      }\n    });\n  }\n}\n```\n\n`initAllPatterns` hydrates every supported pattern on the rendered DOM tree. Call it after lazy components load or whenever\nyou append new markup with `data-automagica11y-*` attributes.\n\n### Template example\n\n```html\n\u003Cbutton data-automagica11y-toggle=\"#details\">Details\u003C/button>\n\u003Csection id=\"details\" hidden>Accessible disclosure target\u003C/section>\n```\n\n\u003CDemoCallout type=\"warning\" title=\"Avoid classic scripts\">\n  \u003Cp>\n    The Angular CLI runs scripts listed in \u003Ccode>angular.json\u003C/code> as classic (non-module) scripts. Do not add\n    \u003Ccode>node_modules/automagica11y/dist/automagica11y.esm.js\u003C/code> thereâ€”classic scripts cannot parse\n    \u003Ccode>export\u003C/code> statements and will throw in the browser. Prefer module imports inside your TypeScript files.\n  \u003C/p>\n\u003C/DemoCallout>\n\n## Browser-only alternative\n\nWhen you cannot use ESM (for example, in a legacy AngularJS hybrid shell), fall back to the bundled IIFE and call the declared\nglobal. Only use this approach on the client.\n\n```json\n// angular.json\n{\n  \"scripts\": [\"node_modules/automagica11y/dist/automagica11y.min.js\"]\n}\n```\n\n```ts\nimport type automagicA11y from 'automagica11y/browser';\n\ndeclare const automagicA11y: typeof automagicA11y;\n\nautomagicA11y.initAllPatterns();\n```\n\nThe browser build exposes the same helpers (`initAllPatterns`, `initPattern`, `initNode`, etc.), so you can continue to hydrate\nnew DOM after router navigation or dynamic updates.","src/content/docs/getting-started/angular.mdx","c5709a2743a9fe09","getting-started/angular.mdx"]